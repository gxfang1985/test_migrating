<?php

class plugin_grn_common_personal_01user extends GRN_PersonalLogicBase
{
    function __construct()
    {
        parent::__construct('user');
    }

    function getConfigArray()
    {
        require_once('grn/system_logic.csp');
        $system = GRN_System::getInstance();
        $is_password_config = $system->getPasswordEnablePersonalConfig();

        // GRN35-316
        if (defined('ON_FOREST')) {
            return [
                'general' => [
                    [
                        'page' => 'personal/user/mygroup_list',
                        'icon' => 'groupadmin32'
                    ],
                ],
            ];
        }
        // GRN35-316
        if ($is_password_config) {
            return [
                'general' => [
                    [
                        'page' => 'personal/user/password',
                        'icon' => 'password32'
                    ],
                    [
                        'page' => 'personal/user/user_view',
                        'icon' => 'useradmin32'
                    ],
                    [
                        'page' => 'personal/user/mygroup_list',
                        'icon' => 'groupadmin32'
                    ],
                ],
            ];
        } else {
            return [
                'general' => [
                    [
                        'page' => 'personal/user/user_view',
                        'icon' => 'useradmin32'
                    ],
                    [
                        'page' => 'personal/user/mygroup_list',
                        'icon' => 'groupadmin32'
                    ],
                ],
            ];
        }
    }
}


