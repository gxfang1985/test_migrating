<?php

class plugin_grn_common_system_03user extends GRN_SystemLogicBase
{
    function __construct()
    {
        parent::__construct('user');
    }

    function getConfigArray()
    {
        require_once('grn/license.csp');
        global $G_license_mode;

        // 期限切れの場合
        if ($G_license_mode === GRN_LICENSE_EXPIRED) {
            return false;
        }
        // ユーザー数超過
        if ($G_license_mode === GRN_LICENSE_OVER_USER) {
            return [
                'general' => [
                    [
                        'page' => 'system/user/org_list',
                        'icon' => 'groupadmin32'
                    ]
                ]
            ];
        }

        if (defined('ON_FOREST')) {
            return [
                'general' => [
                    [
                        'page' => 'system/user/role_list',
                        'icon' => 'role32'
                    ],
                    [
                        'page' => 'system/user/user_column_search_setting',
                        'icon' => 'userlist32'
                    ],
                    [
                        'page' => 'system/user/delete_user_list',
                        'icon' => 'deletetime32'
                    ],
                ],
            ];
        }

        $ret = [
            'general' => [
                [
                    'page' => 'system/user/org_list',
                    'icon' => 'groupadmin32'
                ],
                [
                    'page' => 'system/user/role_list',
                    'icon' => 'role32'
                ],
                [
                    'page' => 'system/user/user_column_list',
                    'icon' => 'userlist32'
                ],
                [
                    'page' => 'system/user/password_policy',
                    'icon' => 'passwordletter32'
                ],
                [
                    'page' => 'system/user/delete_user_list',
                    'icon' => 'deletetime32'
                ],
                [
                    'page' => 'system/user/org_import_index',
                    'icon' => 'import32'
                ],
                [
                    'page' => 'system/user/org_export_index',
                    'icon' => 'export32'
                ],
                [
                    'page' => 'system/user/sandbox/index',
                    'icon' => 'organization_preset32'
                ],
            ],
        ];

        return $ret;
    }
}


