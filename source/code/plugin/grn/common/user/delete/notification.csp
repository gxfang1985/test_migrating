<?php
function plugin_grn_common_user_delete_notification($user_info)
{
    require_once('grn/notification.csp');
    $uid = $user_info['uid'];
    grn_drop_personal_notify($uid, true);

    $manager = grn_notification_get_table_manager($uid);
    $db = $manager->getDBConnection();
    $db->commit();

    require_once('grn/delete_user_logger.csp');
    $logger = GRN_DeleteUserLogger::getInstance();
    $logger->log('Deleted notification data of user "'
                 . $user_info['login_name'] . '"');
}

