<?php

function plugin_fw_uum_login_log($user)
{
    require_once('grn/logger.csp');
    $logic = GRN_LoggingLogic::getInstance();

    $params = [
        'id'      => $user->getOID(),
        'name'    => $user->get('display_name'),
        'account' => $user->get('foreign_key')
    ];

    $lm = CB_LoggerManager::getInstance();
    $log_category = $logic->getLogCategory('common');
    $logger = $lm->getLogger($log_category);
    $logger->_user_name = $user->get('display_name');
    $logger->_user_account = $user->get('foreign_key');
    $logger->noticeEx('login', 'system', $params);
}


