<?php

global $G_INPUT;

require_once('fw/i18n.csp');

// Smarty をインスタンス化
require_once("grn/smarty.csp");
$t = new GRN_Smarty;

global $G_container_base;
/** @var $uum GRN_Uum */
$uum = $G_container_base->getInstance('uum');
$login = $uum->getLoginUser();
if ( ! is_object($login)) {
    cb_throw_error(E_COMMON_ACCOUNT_INVALIDATED);
}

// 共通処理をインクルード
include('_index.csp');

//------------------
/** @var $notification_app GRN_Notification_App */
$resources = ['application_name' => $notification_app->getName()];

// page title
$page_title = grn_get_current_page_display_name($resources);
$t->assign('page_title', $page_title);

// Smartyにサイトポジションを割り当てる
require_once('grn/controller.csp');
$page_infos = ['index' => null];
$util = new GRN_ControllerUtil();
$site_position = $util->makeSitePosition('notification/', $page_infos);
$t->assign('site_position', $site_position);

// Smarty実行
$doc_name = cb_get_pagename();
$t->display("{$doc_name}.tpl");

