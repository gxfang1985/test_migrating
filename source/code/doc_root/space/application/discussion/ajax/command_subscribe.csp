<?php

use grn\space\screen\application\discussion\DiscussionSubscribe;

if (strcasecmp(@ $_SERVER['REQUEST_METHOD'], 'POST') == 0) {
    global $G_INPUT;
    global $G_state_set;

    $G_state_set->set('html_should_be_closed', false);
    $G_state_set->set('copyright_should_be_written', false);
    $G_state_set->set('error_page_type', 'json');

    $discussion_subscribe = new DiscussionSubscribe($G_INPUT);
    $discussion_subscribe->post($G_INPUT);

    $is_subscribe = $discussion_subscribe->getSubscribeStatus();

    echo json_encode(['is_subscribe' => $is_subscribe]);
}
