<?php

use grn\space\screen\application\todo\TodoDelete;
use grn\space\screen\common\ApplicationScreenCommon;
use grn\space\screen\GenericScreenBase;

if (strcasecmp(@ $_SERVER['REQUEST_METHOD'], 'POST') == 0) {

    global $G_INPUT;

    $screen = new ApplicationScreenCommon(new TodoDelete($G_INPUT));
    $screen->post($G_INPUT);
    if (GenericScreenBase::FROM_TODO_INDEX
        == $G_INPUT[GenericScreenBase::ARG_FROM]
    ) {
        cb_redirect('space/application/todo/index',
            ['spid' => $G_INPUT['spid']]);
    } else {
        cb_redirect('space/application/discussion/index',
            ['spid' => $G_INPUT['spid'], 'sf' => 1]);
    }
}
