<?php

use grn\grn\JSONResponse;
use grn\space\screen\JoinLeaveSpace;

global $G_INPUT;
global $G_state_set;

$G_state_set->set('html_should_be_closed', false);
$G_state_set->set('copyright_should_be_written', false);
$G_state_set->set('error_page_type', 'json');

$screen = new JoinLeaveSpace($G_INPUT);

$json = JSONResponse::create();
$json->response([
    'content' => $screen->fetch(),
    'title'   => $screen->getTitle()
]);
