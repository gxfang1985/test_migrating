<?php

use grn\space\screen\mobile\application\discussion\DiscussionIndex;
use grn\grn\JSONResponse;

global $G_INPUT;
$discussion_component = new DiscussionIndex($G_INPUT);

global $G_state_set;
$G_state_set->set('error_page_type', 'json');

$discussion_component->setIsFromAjax(true);

$json = JSONResponse::create();
$json->response(
    [
        'list'   => $discussion_component->fetch(),
        'offset' => $discussion_component->getNewOffset()
    ]);
