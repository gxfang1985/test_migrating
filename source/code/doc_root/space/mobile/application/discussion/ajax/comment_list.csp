<?php

use grn\space\screen\mobile\application\discussion\DiscussionDetail;
use grn\grn\JSONResponse;

global $G_INPUT;
$discussion_detail = new DiscussionDetail($G_INPUT);

global $G_state_set;
$G_state_set->set('error_page_type', 'json');

$json = JSONResponse::create();
$json->response(
    [
        'list'   => $discussion_detail->fetchCommentsForAjax(),
        'offset' => $discussion_detail->getNewOffset()
    ]);
