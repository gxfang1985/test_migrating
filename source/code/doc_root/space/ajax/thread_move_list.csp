<?php

use grn\space\screen\ThreadMoveList;
use grn\grn\JSONResponse;

global $G_INPUT;
global $G_state_set;

$G_state_set->set('html_should_be_closed', false);
$G_state_set->set('copyright_should_be_written', false);
$G_state_set->set('error_page_type', 'json');

$discussion_move_list_object = new ThreadMoveList($G_INPUT);
$discussion_move_list = $discussion_move_list_object->fetch();

$navi_info = $discussion_move_list_object->getNaviInfo();

$json = JSONResponse::create();
$json->response([
    'thread_move_list' => $discussion_move_list,
    'navi_info'        => $navi_info
]);

