<?php

require_once('grn/smarty.csp');
$t = new GRN_Smarty();

require_once('grn/customer.csp');
$customer = GRN_Customer::getInstance();

$customer_data = [];

$customer_data['customer_id'] = $customer->getProperty('customer_id');
$customer_data['company_name'] = $customer->getProperty('company_name');
$customer_data['company_name2'] = $customer->getProperty('company_name2');
$customer_data['logo_path'] = $customer->getProperty('logo_path');
$customer_data['logo_file'] = null;

$file = $customer->getProperty('logo_file');
if (is_object($file) && is_a($file, 'GRN_File')) {
    require_once('grn/controller.csp');
    $controller = new GRN_ControllerUtil();
    $customer_data['logo_file'] = $controller->getFileLinkView($file);
}

$t->assign('customer_data', $customer_data);

$page_title = grn_get_current_page_display_name();
$t->assign('page_title', $page_title);
$t->assign('site_position', [
    [
        'page' => '',
        'name' => $page_title
    ]
]);

$t->display(cb_get_pagename() . '.tpl');


