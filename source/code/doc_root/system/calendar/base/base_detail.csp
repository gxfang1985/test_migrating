<?php

require_once("fw/i18n/base.csp");

if ( ! isset($G_INPUT['bid'])) {
    cb_throw_error(E_COMMON_BASE_WAS_NOT_FOUND);
}

require_once('grn/smarty.csp');
$t = new GRN_Smarty;

require_once("fw/i18n.csp");
$i18n = CB_I18N::getInstance();

$base_id = $G_INPUT["bid"];
$base = CB_Base::select($base_id);

if (is_null($base)) {
    cb_throw_error(E_COMMON_BASE_WAS_NOT_FOUND);
}

$t->assign('base', $base->toViewArray());

$page_title = grn_get_current_page_display_name();
$t->assign('page_title', $page_title);

$t->assign(
    'site_position', [
        [
            'page' => 'system/calendar/base/index',
            'name' => grn_get_page_display_name("system/calendar/base/index"),
        ],
        [
            'page' => '',
            'name' => $page_title,
        ],
    ]
);

$t->display(cb_get_pagename() . '.tpl');
