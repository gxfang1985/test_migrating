<?php

// Check HTTP-POST Method
if (strcasecmp(cb_at($_SERVER, 'REQUEST_METHOD'), 'POST') == 0) {
    global $G_INPUT;

    $ordered_ids = cb_at($G_INPUT, 'order');

    if ( ! is_array($ordered_ids)) {
        $ordered_ids = [];
    }

    $service = GRN_Authentication_Service::getInstance();
    $service->changeRepositoryMethodListOrder($ordered_ids);

    cb_redirect('system/authentication/repository_method_list');
}
