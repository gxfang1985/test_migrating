<?php

//Get Smarty Instance
require_once("grn/smarty.csp");
$t = new GRN_Smarty;

//Get Repository Driver
require_once('grn/authentication.csp');
$authentication_service = GRN_Authentication_Service::getInstance();
$repository_driver
    = $authentication_service->getRepositoryDriver($method['driver_type']);

//Create Parameter Translation Map for Repository Driver
$translation_map_repository_driver = [
    'name' => 'name',             //Driver name
];

//Do Parameter Translation for Repository Driver
$repository_driver_for_view = [];
foreach ($translation_map_repository_driver as $view_name => $model_name) {
    switch ($model_name) {
        case 'name':
            $repository_driver_for_view[$view_name]
                = $repository_driver->getName();
            break;
        default:
            break;
    }
}

//Assign Display Infomation

//Display Infomation
$t->assign('display', $display);
//Repository Method Display Infomation
$t->assign('repository_method', $method);
//Repository Driver Display Infomation
$t->assign('repository_driver', $repository_driver_for_view);

// Ignore Licence Warnning
$t->skipWarning();

// Display Smarty Template
$doc_name = cb_get_pagename();
$t->display("system/authentication/repository/view_ldap.tpl");


