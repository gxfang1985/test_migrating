<?php

require_once("grn/smarty.csp");
$t = new GRN_Smarty;

global $G_container_base;
/** @var GRN_Uum $uum */
$uum =& $G_container_base->getInstance('uum');
$extension_columns = $uum->listItems();
$extension_columns_for_view = [];
$keys = array_keys($extension_columns);
foreach ($keys as $key) {
    $column =& $extension_columns[$key];
    $extension_columns_for_view[$column->getOID()]
        = [
        'id'           => $column->get('id'),
        'display_name' => $column->get('display_name'),
        'show'         => $column->get('show'),
        'search'       => $column->get('search'),
    ];
    unset($column);
}
unset($keys);
unset($extension_columns);
$t->assign('extension_columns', $extension_columns_for_view);

// set page title
$page_title = grn_get_current_page_display_name();
$t->assign('page_title', $page_title);

// set site position
$t->assign(
    'site_position',
    [
        ['page' => "", 'name' => $page_title],
    ]
);

$t->display(cb_get_pagename() . '.tpl');


