<?php

require_once('grn/smarty.csp');
$t = new GRN_Smarty;

global $G_container_base;
/** @var GRN_Uum $uum */
$uum =& $G_container_base->getInstance('uum');

$extension_columns = $uum->listItems();
$extension_columns_for_view = [];
$keys = array_keys($extension_columns);
foreach ($keys as $key) {
    $column =& $extension_columns[$key];
    $extension_columns_for_view[$column->getOID()]
        = $column->get('display_name');
    unset($column);
}
unset($keys);
unset($extension_columns);

$t->assign('extension_columns', $extension_columns_for_view);

//-- set page title and site position
$page_list = 'system/user/user_column_list';

// use $page_title for both page title and site position
$page_title = grn_get_current_page_display_name();

// set page title
$t->assign('page_title', $page_title);

// set site position
$t->assign(
    'site_position',
    [
        ['page' => $page_list, 'name' => grn_get_page_display_name($page_list)],
        ['page' => "", 'name' => $page_title],
    ]
);


//-- show page
$t->display(cb_get_pagename() . '.tpl');


