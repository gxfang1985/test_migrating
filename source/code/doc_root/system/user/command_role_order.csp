<?php

if (0 == strcasecmp(@ $_SERVER['REQUEST_METHOD'], 'POST')) {
    $role_ids = @ $G_INPUT['role_ids'];

    if (is_array($role_ids) && 0 < count($role_ids)) {
        global $G_container_base;
        /** @var GRN_Uum $uum */
        $uum =& $G_container_base->getInstance('uum');

        $uum->setOrderStaticRole($role_ids);

        $roles_id = [];
        foreach ($role_ids as $list_index => $role_id) {
            $roles_id[] = $role_id;
        }

        $uum->execInspection('role', 'order',
            ['role_id' => implode(',', $roles_id)]);
    }

    cb_redirect('system/user/role_list');

}

