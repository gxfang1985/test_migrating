<?php

//-- instantiate smarty object
require_once("grn/smarty.csp");
$t = new GRN_Smarty;

global $G_state_set;
$G_state_set->set('copyright_should_be_written', false);
$G_state_set->set('html_should_be_closed', false);

//-- get parameters from URL parameters
$org_id = @ $G_INPUT['oid'];

$logic = &_grn_get_privilege_logic();

//-- get entire organization tree
require_once('grn/uum_util.csp');
$uum_util = GRN_UumUtil::getInstance();
$org_tree = $uum_util->getEntireGroupTree();

$t->assign('org_tree', $org_tree);

//-- page title
$page_title = grn_get_current_page_display_name();
$t->assign('page_title', $page_title);
$t->assign('title_of_grn_title', $page_title);

//-- site position
require_once('grn/controller.csp');
$page_infos = [
    'org_list' => ['oid' => $org_id, 'sf' => 1],
    'org_code' => null,
];
$util = new GRN_ControllerUtil();
$site_position = $util->makeSitePosition('system/user/', $page_infos);
$t->assign('site_position', $site_position);
$t->display(cb_get_pagename() . '.tpl');


