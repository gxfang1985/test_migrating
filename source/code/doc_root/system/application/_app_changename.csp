<?php

$app_id = @ $G_INPUT['app_id'];

if (is_null($app_id) || 0 == strlen($app_id)) {
    require_once('grn/error_code.csp');
    cb_throw_error(E_GRN_SYSTEM_INVALID_APPLICATION_ID);
}


require_once('system/resources.csp');
require_once('system/SystemApplicationLogic.csp');
$sysAppLogic = new SystemApplicationLogic();
$localLanguageValues = $sysAppLogic->createMultiLanguageValuesArray($app_id);

$multiLanguageInfoArray = [];
$multiLanguageInfoArray['element_name'] = GRN_SYSTEM_ELEMENT_NAME_APPLICATION;
$multiLanguageInfoArray['values'] = $localLanguageValues;

$t->assign('multiLanguageInfoArray', $multiLanguageInfoArray);
$t->assign('app_id', $app_id);

//--------------------------------------------------------------

// Smartyにページタイトルを割り当てる
$page_title = grn_get_current_page_display_name();
$t->assign('page_title', $page_title);

require_once('grn/controller.csp');

// Smartyにサイトポジションを割り当てる
$page_infos = [
    'index'          => [],
    'app_changename' => null
];
$util = new GRN_ControllerUtil();
$site_position = $util->makeSitePosition('system/application/', $page_infos);
$t->assign('site_position', $site_position);


