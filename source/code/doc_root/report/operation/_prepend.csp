<?php

//Get Application Locator
require_once('grn/application.csp');
$locator = GRN_ApplicationLocator::instance();

//Set Application Name
require_once('report/resources.csp');
global $G_report_app_name;
$G_report_app_name = $locator->getName(GRN_REPORT_APPLICATION_ID);

//Get Login User
global $G_report_login_user;
$G_report_login_user = null;
require_once('grn/uum.csp');
global $G_container_base;
$grn_uum =& $G_container_base->getInstance('uum');
$login_user =& $grn_uum->getLoginUser();
if ($login_user) {
    $G_report_login_user =& $login_user;
}

//Check Manage
require_once('report/controller_util.csp');
$category_util = GRN_Report_Category_Controller_Utility::getInstance();
if ( ! $category_util->evaluateManage()) {
    require_once('report/error_code.csp');
    cb_throw_error(E_GRN_RPRT_MANAGE_DENY);
}


