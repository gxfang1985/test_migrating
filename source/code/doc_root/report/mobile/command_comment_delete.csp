<?php

use grn\grn\mobile\MobileScreenCommon;
use grn\report\screen\mobile\ReportCommentDelete;
use grn\grn\JSONResponse;

if (strcasecmp(@$_SERVER['REQUEST_METHOD'], 'POST') == 0) {
    global $G_INPUT;
    $screen = new MobileScreenCommon(new ReportCommentDelete($G_INPUT));

    global $G_state_set;
    $G_state_set->set('error_page_type', 'json');

    $screen->post($G_INPUT);

    $json = JSONResponse::create();
    $json->response([
        'redirect' => cb_format_url('report/mobile/view',
            ['rid' => $G_INPUT['rid']], 'comment_top')
    ]);
}
