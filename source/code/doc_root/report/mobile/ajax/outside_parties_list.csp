<?php

use grn\report\screen\mobile\OutsidePartiesList;
use grn\grn\JSONResponse;

global $G_INPUT;
$outside_parties_list = new OutsidePartiesList($G_INPUT);

global $G_state_set;
$G_state_set->set('error_page_type', 'json');

$outside_parties_list->setIsFromAjax(true);
$json = JSONResponse::create();
$json->response([
    'list'   => $outside_parties_list->fetch(),
    'offset' => $outside_parties_list->getNewOffset()
]);
