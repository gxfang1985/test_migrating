<?php
if (strcasecmp(@ $_SERVER['REQUEST_METHOD'], 'POST') == 0) {
    if (count($G_INPUT) > 0) {
        if ( ! array_key_exists('id', $G_INPUT)) {
            require_once('rss/error_code.csp');
            cb_throw_error(E_GRN_RSS_WRONG_PARAMETER);
        }

        $relation_list = [];
        foreach ($G_INPUT['id'] as $order => $rid) {
            $relation_list[$rid] = $order;
        }

        require_once('rss/system.csp');
        $system = GRN_RSS_SystemLogic::getInstance();
        $system->changeSharedRelationOrder($relation_list);
    }

    cb_redirect('rss/system/list');
}

