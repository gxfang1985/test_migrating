<?php

$lid = array_key_exists('lid', $G_INPUT) ? $G_INPUT['lid'] : null;
if (is_null($lid)) {
    require_once('cbapi/error_code.csp');
    grn_cbapi_throw_error(E_GRN_CBAPI_NO_PARAMETER);
}

global $G_container_base;
$uum =& $G_container_base->getInstance('uum');
$user =& $uum->getUserByForeignKey($lid);

if ( ! $user) {
    require_once('cbapi/error_code.csp');
    grn_cbapi_throw_error(E_GRN_CBAPI_NO_USER);
}

$t->assign('user', [
    'id'    => $user->getOID(),
    'name'  => $user->get('display_name'),
    'login' => $lid
]);


