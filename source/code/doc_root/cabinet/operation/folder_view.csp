<?php

global $G_INPUT;

require_once("grn/smarty.csp");
$t = new GRN_Smarty;

$need_prilivileges = true;
require_once('../_folder_view.csp');

require_once('cabinet/controller.csp');
$utility = new GRN_Cabinet_ControllerUtil();

// GRN35-209
if (@$G_INPUT['hid']) {
    $utility->prepareMakeSitePosition($t, @$G_INPUT['hid']);
} else {
    $page_path = [
        'cabinet/index' => ['hid' => @$G_INPUT['hid']]
    ];
    $utility->setSitePosition($t, $page_path);
}
// GRN35-209

if (array_key_exists('sp', $G_INPUT)) {
    $utility = new GRN_Cabinet_ControllerUtil('cabinet/index');
    $utility->setNaviStartPosition($G_INPUT['sp']);
}

$t->display(cb_get_pagename() . ".tpl");

