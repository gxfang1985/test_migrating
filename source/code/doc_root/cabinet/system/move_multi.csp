<?php

global $G_INPUT;

require_once("grn/smarty.csp");
$t = new GRN_Smarty;


if ( ! ($folder_id = @ $G_INPUT['hid'])) {
    cb_throw_error(E_GRN_CABINET_FOLDER_NOT_FOUND);
}

require_once('cabinet/controller.csp');
$utility = new GRN_Cabinet_ControllerUtil('cabinet/system/folder_list');

$session =& $utility->getSession();
$eid = $session->get('eid');

$utility = new GRN_Cabinet_ControllerUtil();
$session =& $utility->getSession();

if ( ! $eid) {
    $eid = $session->get('eid');
} else {
    $session->set('eid', $eid);
}
$t->assign('move_numbers', count($eid));


$page_path = ['cabinet/system/folder_list' => ['hid' => $folder_id]];

$utility->setSitePosition($t, $page_path);

require_once('../_move_multi.csp');

$t->display(cb_get_pagename() . ".tpl");

