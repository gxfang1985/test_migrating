<?php

require_once('portal/error_code.csp');
if ( ! isset($portlet)) {
    cb_throw_error(E_GRN_PRTL_PORTLET_INVALID_ACCESS);
}

//Get Smarty Instance
require_once('grn/smarty.csp');
$t = new GRN_Smarty;

//Get Portlet Settings
$portlet_setting = null;
if ( ! is_null($portlet['settings'])) {
    //User Week Data
    $portlet_settings =& $portlet['settings'];
}

//Create Font Options Array
$font_options = [
    ['value' => 'small', 'label' => cb_msg('grn.schedule', 'font_size_small')],
    [
        'value' => 'normal',
        'label' => cb_msg('grn.schedule', 'font_size_normal')
    ],
    ['value' => 'large', 'label' => cb_msg('grn.schedule', 'font_size_large')],
];
$font_size = @$portlet_settings['font_size'];
switch ($font_size) {
    case 'small':
        $font_options[0]['selected'] = true;
        break;
    case 'normal':
        $font_options[1]['selected'] = true;
        break;
    case 'large':
        $font_options[2]['selected'] = true;
        break;
    default:
        $font_options[1]['selected'] = true;
        break;
}

// Assign Portlet Settings Infomation
$t->assign('settings', $portlet_settings);

//Assign include_php Parameter
$t->assign('portlet', $portlet);
$t->assign('display', $display);

// Assign Font Options
$t->assign('font_options', $font_options);

//-- set page title and site position

// Ignore Licence Warnning
$t->skipWarning();

//Display Smarty Template
$doc_name = 'schedule/portlet/set_personal_year';
$t->display("{$doc_name}.tpl");


