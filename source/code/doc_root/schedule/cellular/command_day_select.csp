<?php

// 日付チェック
require_once("fw/date.csp");
$day_tmp = new CB_Date();

if ( ! $day_tmp->parse(@$G_INPUT['yy'] . '-' . @$G_INPUT['mm'] . '-'
                       . @$G_INPUT['dd'])
) {
    // error. switch form page
    grn_cellular_switch_page($G_pagepath . '/day_select');
}

$day_disp = new CB_DateEx($day_tmp);
$day_disp->moveDays(0);

if (isset($G_INPUT['from']) && $G_INPUT['from'] == 'gr') {
    // リダイレクト
    grn_cellular_switch_page($G_pagepath . "/day_gr", [
        'gid' => @$G_INPUT['gid'],
        'pa'  => @$G_INPUT['pa'],
        'day' => $day_disp->format()
    ]);
} else {
    // リダイレクト
    grn_cellular_switch_page($G_pagepath . "/day",
        ['mid' => @$G_INPUT['mid'], 'day' => $day_disp->format()]);
}


