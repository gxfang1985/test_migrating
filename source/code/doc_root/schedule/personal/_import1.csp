<?php

global $G_INPUT;

require_once('fw/session_manager.csp');

// セッションに関連付けてファイルを保存する。尚、ID 文字列が返却される。
$session_manager = CB_SessionManager::getInstance();
$session =& $session_manager->getSession(cb_get_pagename());
// いったん過去のセッションファイルを削除
$file_infos = $session->getFiles('schedule_files');
if (is_array($file_infos)) {
    foreach (array_keys($file_infos) as $id) {
        $session->unsetFile('schedule_files', $id);
    }
}
$session->unset_by('import_option');

//------------------
global $G_container_base;
$uum =& $G_container_base->getInstance('uum');
$login = &$uum->getLoginUser();

require_once('schedule/personal_logic.csp');
$logic = GRN_Schedule_PersonalLogic::getInstance();

// page title
$page_title = grn_get_page_display_name('schedule/personal/import');
$t->assign('page_title', $page_title);
// site position 
$t->assign('site_position', [['page' => '', 'name' => $page_title]]);


