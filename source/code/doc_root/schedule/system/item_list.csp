<?php

// instantiate an Smarty object
require_once('grn/smarty.csp');
$t = new GRN_Smarty;
// for site position
$t->assign('app_id', 'schedule');

require_once('schedule/facility_system_logic.csp');
$system_logic = GRN_Facility_SystemLogic::getInstance();

// 組み込み項目コード取得
$facility_title_code = $system_logic->getFacilityTitleCode();
$t->assign('facility_title_code', $facility_title_code);

// 組み込み項目取得
list($title_purpose, $title_name) = $system_logic->getFacilityTitleEach();

$t->assign('title_purpose', $title_purpose);
$t->assign('title_name', $title_name);

// カスタマイズ項目取得
$items = $system_logic->listItems();

$t->assign('items', $items);
//------------------

// page title
$page_title = grn_get_current_page_display_name();
$t->assign('page_title', $page_title);
// site position 
$t->assign('site_position', [['page' => '', 'name' => $page_title]]);

// Smarty実行
$t->display(cb_get_pagename() . ".tpl");

