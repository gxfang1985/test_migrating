<?php
/**
 * Change attendance status
 *
 * @author: duong-vu(Cybozu Vietnam)
 * @date  : 2014/11/27
 */

use grn\schedule\screen\mobile\AttendanceStatusChange;
use grn\grn\mobile\MobileScreenCommon;

if (strcasecmp(@$_SERVER['REQUEST_METHOD'], 'POST') == 0) {
    global $G_INPUT;
    $screen = new MobileScreenCommon(new AttendanceStatusChange($G_INPUT));
    $screen->post($G_INPUT);
    $params = [
        'event'       => cb_at($G_INPUT, 'event'),
        'bdate'       => cb_at($G_INPUT, 'bdate'),
        'uid'         => cb_at($G_INPUT, 'uid'),
        'gid'         => cb_at($G_INPUT, 'gid'),
        'referer_key' => cb_at($G_INPUT, 'referer_key')
    ];
    cb_redirect('schedule/mobile/view', $params);
}
