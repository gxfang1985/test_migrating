<?php

$account_id = @ $G_INPUT['aid'];
$category_id = @ $G_INPUT['cid'];

//------------------

//----ダミーデータ----
// folder properties
$category_for_view = [];
$category_for_view['title'] = 'フォルダ１';
$category_for_view['memo'] = 'その他任意のフォルダ';
$category_for_view['type'] = '5';
$category_for_view['is_subscribed'] = '1';
$category_for_view['aid'] = '1';
$category_for_view['cid'] = '3';
$t->assign('category', $category_for_view);

// page title
$page_title = grn_get_current_page_display_name();
$t->assign('page_title', $page_title);

// site position
$page_index = 'mail/index';
$page_inbox = 'mail/inbox';
$page_outbox = 'mail/outbox';
$page_draftbox = 'mail/draftbox';
$page_garbagebox = 'mail/garbagebox';
$page_category_list = 'mail/category_list';

switch ($category_for_view['type']) {
    case '1':
        $page_folder = grn_get_page_display_name($page_inbox);
        break;
    case '2':
        $page_folder = grn_get_page_display_name($page_outbox);
        break;
    case '3':
        $page_folder = grn_get_page_display_name($page_draftbox);
        break;
    case '4':
        $page_folder = grn_get_page_display_name($page_garbagebox);
        break;
    default:
        $page_folder = grn_get_page_display_name($page_category_list);
}

$t->assign(
    'site_position',
    [
        [
            'page' => $page_index,
            'name' => grn_get_page_display_name($page_index)
        ],
        [
            'page' => $page_index,
            'name' => $page_folder,
            'aid'  => $account_id,
            'cid'  => $category_id
        ],
        [
            'page' => 'mail/folder_view',
            'name' => grn_get_page_display_name('mail/folder_view'),
            'aid'  => $account_id,
            'cid'  => $category_id,
        ],
        [
            'page' => '',
            'name' => $page_title
        ]
    ]
);

// account_data
$t->assign(
    'account', [
        'title' => '', //account設定名
        'email' => '***@cybozu.co.jp'
    ]
);

// user_account
$t->assign(
    'user_account', [
        [
            'value' => 1, //user_account_ID
            'label' => '***@cybozu.co.jp', //account_name
        ],
        [
            'value' => 2, //user_account_ID
            'label' => 'アカウント２', //account_name
        ],
        [
            'value' => 3, //user_account_ID
            'label' => 'アカウント３', //account_name
        ]
    ]
);

// フォルダリスト
$t->assign(
    'folder_list', [
        'data'     => [
            [
                'aid' => 1,
            ],
            [
                'aid' => 2,
            ]
        ],
        'selected' => 1,
    ]
);


