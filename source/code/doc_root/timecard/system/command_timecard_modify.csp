<?php

if (strcasecmp(@ $_SERVER['REQUEST_METHOD'], 'POST') == 0) {
    global $G_INPUT;
    global $G_container_app;

    $uum =& $G_container_app->getInstance('uum');

    $user_id = @ $G_INPUT['uid'];

    if ( ! is_null($user_id) && strlen($user_id) > 0) {
        $user =& $uum->getUser($user_id);
    } else {
        $user =& $uum->getLoginUser();
    }

    $is_system = 1;
    require('../_command_modify.csp');

    require_once('timecard/functions.csp');

    $date = grn_timecard_index_date(@ $G_INPUT['date']);

    cb_redirect('timecard/system/timecard_view',
        ['date' => $date, 'uid' => $user_id, 'oid' => @$G_INPUT['oid']]);
}


