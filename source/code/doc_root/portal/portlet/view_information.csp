<?php

require_once('portal/error_code.csp');
if ( ! isset($portlet)) {
    cb_throw_error(E_GRN_PRTL_PORTLET_INVALID_ACCESS);
}

// instantiate an Smarty object
require_once("grn/smarty.csp");
$t = new GRN_Smarty;

// Create Parameter Translation Map
$translation_map = [
    'settings' => 'settings',    //Portlet Source
];

// Do Parameter Translation
$portlet_for_view = [];
foreach ($translation_map as $view_name => $model_name) {
    $portlet_for_view[$view_name] = $portlet[$model_name];
}

// Assign Portlet Group Display Infomation
$t->assign('portlet', $portlet_for_view['settings']);

//-- set page title and site position

//Set Page Title
if ($portlet['title'] === '') {
    global $G_portal_app_name;
    $page_title = cb_plain_msg('grn.portal', 'portlet_view_information',
        ['app_name' => $G_portal_app_name]);
} else {
    $page_title = $portlet['title'];
}
$t->assign('page_title', $page_title);

// Ignore Licence Warnning
$t->skipWarning();

// Display Smarty Template
$doc_name = cb_get_pagename();
$t->display("portal/portlet/view_information.tpl");


