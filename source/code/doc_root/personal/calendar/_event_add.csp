<?php

$bdate = @$G_INPUT['bdate'];

require_once('grn/calendar.csp');
$cs = GRN_CalendarService::getInstance();
$memorialday = $cs->getEventName(GRN_CALENDAR_TYPE_MEMORIALDAY);
$memo = $cs->getEventName(GRN_CALENDAR_TYPE_USER_MEMO);

$types = [
    [
        'value' => GRN_CALENDAR_TYPE_MEMORIALDAY,
        'label' => $memorialday
    ],
    [
        'value' => GRN_CALENDAR_TYPE_USER_MEMO,
        'label' => $memo
    ]
];

// page title
$page_title = grn_get_page_display_name('personal/calendar/event_add');
$t->assign('page_title', $page_title);
$t->assign('date', $bdate);
$t->assign('types', $types);

// site position
$page_list = 'personal/calendar/calendar_view';
$t->assign(
    'site_position',
    [
        [
            'page'  => $page_list,
            'name'  => grn_get_page_display_name($page_list),
            'bdate' => $bdate
        ],
        ['page' => "", 'name' => $page_title],
    ]
);


