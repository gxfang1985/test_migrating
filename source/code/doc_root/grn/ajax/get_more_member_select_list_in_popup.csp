<?php
require_once("grn/screen/MemberSelectScreenFactory.csp");

use grn\grn\screen\MemberSelectScreenFactory;
use grn\grn\JSONResponse;

global $G_INPUT;
$screen = MemberSelectScreenFactory::getPage($G_INPUT);
$candidate_info = $screen->ajaxGetCandidate();
$is_need_scroll = $screen->getIsNeedScroll();

$members_info = [];
foreach ($candidate_info as $member_info) {
    $members_info[] = $member_info;
}

$json = JSONResponse::create();
$json->response([
    'members_info'   => $members_info,
    'is_need_scroll' => $is_need_scroll
]);
