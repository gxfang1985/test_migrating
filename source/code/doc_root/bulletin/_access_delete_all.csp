<?php

global $G_INPUT;

if ( ! isset($t) || ! is_a($t, 'GRN_Smarty')) {
    require_once("grn/smarty.csp");
    $t = new GRN_Smarty;
}

if ( ! array_key_exists('nid', $G_INPUT)) {
    cb_throw_error(E_GRN_BULLETIN_CATEGORY_NOT_FOUND);
}
$node_id = $G_INPUT['nid'];

if ( ! ($node_row =& $G_bulletin->getCategory($G_bulletin_login, $node_id))) {
    cb_throw_error(E_GRN_BULLETIN_CATEGORY_NOT_FOUND);
}

$node = ['name' => $node_row->get('name'), 'nid' => $node_id];

$t->assign('node', $node);
$t->assign('node_id', $node_id);

$poid = @ $G_INPUT['poid'];

$t->assign('poid', $poid);


