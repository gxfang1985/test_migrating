<?php

global $G_INPUT;

require_once("grn/smarty.csp");
$t = new GRN_Smarty;

$need_prilivileges = true;
require('../_category_view.csp');

require_once('bulletin/controller.csp');
$utility = new GRN_Bulletin_ControllerUtil();

// GRN35-209
if (@$G_INPUT['cid']) {
    $utility->prepareMakeSitePosition($t, @$G_INPUT['cid']);
} else {
    $page_path = [
        'bulletin/index' => ['cid' => @$G_INPUT['cid']]
    ];
    $utility->setSitePosition($t, $page_path);
}
// GRN35-209

if (array_key_exists('sp', $G_INPUT)) {
    $utility = new GRN_Bulletin_ControllerUtil('bulletin/index');
    $utility->setNaviStartPosition($G_INPUT['sp']);
}
if (isset($category_for_view['name'])) {
    $t->assign('page_title', $category_for_view['name']);
}
$t->display(cb_get_pagename() . ".tpl");

