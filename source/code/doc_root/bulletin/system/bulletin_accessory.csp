<?php

global $G_INPUT;

require_once("grn/smarty.csp");
$t = new GRN_Smarty;


$category_id = @ $G_INPUT['cid'];

$article_id = @ $G_INPUT['aid'];

if ( ! $article_id) {
    cb_throw_error(E_GRN_BULLETIN_ARTICLE_NOT_FOUND);
}

// site position
$page_path = [
    "bulletin/system/bulletin_list" => ['cid' => $category_id],
    "bulletin/system/bulletin_view" => [
        'cid' => $category_id,
        'aid' => $article_id
    ],
];

require_once('bulletin/controller.csp');
$utility = new GRN_Bulletin_ControllerUtil();

$utility->setSitePosition($t, $page_path);


require('../_accessory.csp');

$t->display(cb_get_pagename() . ".tpl");

