<?php

global $G_INPUT;

require_once("grn/smarty.csp");
$t = new GRN_Smarty;

//Set Application Name
global $G_workflow_app_name;
$t->assign('app_name', $G_workflow_app_name);

//Get Folder ID from Session
require_once('fw/session_manager.csp');
$session_manager = CB_SessionManager::getInstance();
$session_form_list
    =& $session_manager->getSession('workflow/operation/access_index');
$folder_id = $session_form_list->get('folder_id');

//--node information
require_once('_access_util.csp');

//--page title
$page_title = grn_get_current_page_display_name();
$t->assign('page_title', $page_title);

//--site position 
$t->assign('site_position', [
        [
            'page' => 'workflow/index',
            'name' => grn_get_page_display_name('workflow/index'),
            'fid'  => $folder_id,
            'sf'   => 1
        ],
        [
            'page' => 'workflow/operation/access_index',
            'name' => grn_get_page_display_name('workflow/operation/access_index'),
            'nid'  => $node_id
        ],
        [
            'page' => 'workflow/operation/access_list',
            'name' => grn_get_page_display_name('workflow/operation/access_list'),
            'nid'  => $node_id,
            'poid' => $poid
        ],
        ['page' => '', 'name' => $page_title],
    ]
);

//Display Smarty Template
$doc_name = cb_get_pagename();
$t->display("{$doc_name}.tpl");


