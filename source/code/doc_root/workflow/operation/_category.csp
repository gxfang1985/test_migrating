<?php

//Get Parameters
$_category_id = @ $G_INPUT['cid'];

//Get Category Controller Utility
require_once('workflow/controller_util.csp');
$_category_util = GRN_Workflow_Category_Controller_Utility::getInstance();

//Check User Type
$user_type = @ $user_type;
if ( ! $user_type) {
    require_once('workflow/resources.csp');
    $user_type = GRN_WORKFLOW_ACCESS_TYPE_PERSONAL;
}

//Create Parameter Translation Map
$_translation_map_category = [
    //Category Information
    'cid'            => '_id',             //Category ID
    'name'           => 'name',            //Category Name
    'foreign_key'    => 'foreign_key',     //Category Foreign key
    'pcid'           => 'parent',          //Category Parent
    'memo'           => 'memo',            //Category Memo
    'creator'        => 'creator',         //Category Creator
    'creator_name'   => 'creator_name',    //Category Creator Name
    'modifier'       => 'modifier',        //Category Modifier
    'modifier_name'  => 'modifier_name',   //Category Modifier Name
    'ctime'          => 'ctime',           //Category Create Time
    'mtime'          => 'mtime',           //Category Modify Time
    'list_index'     => 'list_index',      //Category List Index
    'security_model' => 'security_model',  //Category Security Model
];

//Get Category for view
$_category_for_view = $_category_util->getView($_category_id,
    $_translation_map_category, $user_type, false);

//Assign Display Infomation
//Assign Category
$t->assign('category', $_category_for_view);

