<?php

class CbUserNameLanguage
{
    private $_id = null;
    private $col_language;

    public static $OTHER_LANGUAGES = '';

    public function __construct($array)
    {
        $this->setId($array["_id"]);
        $this->setLanguage($array["col_language"]);
    }

    /**
     *
     * @return array
     */
    public function toArray()
    {
        return [
            "_id"           => $this->getId(),
            "col_language"  => $this->getLanguage(),
            "language_code" => $this->getLanguageCode(),
        ];
    }

    public function getId()
    {
        return $this->_id;
    }

    public function setId($id)
    {
        $this->_id = $id;
    }

    public function getLanguage()
    {
        return $this->col_language;
    }

    public function setLanguage($language)
    {
        if ( ! is_numeric($language)) {
            require_once("fw/i18n/locale.csp");
            $language = CB_LanguageManager::getLanguageId($language);
        }
        $this->col_language = $language;
    }

    public function getLanguageCode()
    {
        require_once("fw/i18n/locale.csp");

        return CB_LanguageManager::getLanguageCode($this->col_language);
    }
}
