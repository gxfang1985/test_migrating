<?php

namespace grn\fw;

/**
 * @see http://issues.dev.cybozu.co.jp/browse/GRN2-7041
 */
class LoggerQueryCondition
{
    /**
     * @param                 $priority
     * @param \CB_LoggerQuery $query
     *
     * @return string
     */
    public function getPriorityCondition($priority, \CB_LoggerQuery $query)
    {
        if ($this->prioryHasValue($priority) === false) {
            return "";
        } else {
            return $query->queryf("col_priority='@S' AND ", $priority);
        }
    }

    /**
     * @param $priority
     *
     * @return bool
     */
    public function prioryHasValue($priority)
    {
        return ! is_null($priority) && intval($priority) > 0;
    }

}
