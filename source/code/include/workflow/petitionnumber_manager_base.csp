<?php
/**
 * Workflow Application Petition Number Base Class
 *
 * @author  Yuichi, Nakamura 2005/12
 * @version 1.0
 * @package grn.workflow
 */

/** Workflow Application **/
require_once('workflow/resources.csp');
require_once('grn/application.csp');

/**
 * Petition Manager Base Class
 *
 * @package grn.workflow
 */
class GRN_Workflow_PetitionNumber_Manager_Base
{
    /** Table Name **/
    var $_table_name = null;

    /** Petition Number List **/
    var $_list = [];

    /**
     * Constructor
     *
     * @return none
     */
    function __construct()
    {
        $this->_table_name = 'tab_grn_workflow_petitionnumber';
    }

    /**
     * Get Instance
     *
     * @return GRN_Workflow_PetitionNumber_Manager_Base $instance                  //Instance of GRN_Workflow_PetitionNumber_Manager_Base
     */
    public static function getInstance()
    {
        static $_instance = null;
        if (is_null($_instance)) {

            $_instance = new GRN_Workflow_PetitionNumber_Manager_Base();
        }

        return $_instance;
    }

    /**
     * Get Database
     *
     * @return object $table                     //GRN_Workflow_PetitionNumber Table Information
     */
    function _getDatabase()
    {
        static $database = null;
        if (is_null($database)) {
            $app_locator = GRN_ApplicationLocator::instance();
            $database = $app_locator->getConnection('workflow');
        }

        return $database;
    }

    /**
     * Get Column List
     *
     * @param  string $class_name //Class Name
     *
     * @return array  $column_name_list          //Column Name List
     */
    function &_getColumnList()
    {
        //Create Column Name List
        require_once('workflow/table.csp');
        $column_list = get_class_vars(GRN_WORKFLOW_TABLE_PETITIONNUMBER);
        foreach (array_keys($column_list) as $column_name) {
            if (strpos($column_name, 'col_') === 0) {
                $column_name_list[] = $column_name;
            }
        }
        $column_name_list[] = '_id';

        return $column_name_list;
    }
}


