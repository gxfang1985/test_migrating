<?php

namespace grn\fts\cabinet;

use grn\fts\SearchDocumentInterface;

require_once('cabinet/file.csp');

class CabinetUtil
{
    /**
     * @param \grn\fts\SearchDocumentInterface $document
     *
     * @return \GRN_Cabinet_File
     */
    public function getFile(SearchDocumentInterface $document)
    {
        $fileId = $document->getFileId();
        $fileManager = new \GRN_Cabinet_FileManager();

        return $fileManager->getFileById($fileId);
    }

    /**
     * @param \grn\fts\SearchDocumentInterface $document
     *
     * @return \GRN_Cabinet_Folder
     */
    public function getFolder(SearchDocumentInterface $document)
    {
        $file = $this->getFile($document);
        require_once('cabinet/file.csp');
        $fileManager = new \GRN_Cabinet_FileManager();

        return $fileManager->getFolder($file);
    }

    /**
     * @return string
     */
    public function getCabinetIconUrl()
    {
        return cb_get_app_path() . '/grn/image/cybozu/file16.png';
    }
}
