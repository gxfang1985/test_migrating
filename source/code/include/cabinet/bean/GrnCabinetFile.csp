<?php

class GrnCabinetFile
{
    private $__id;
    private $_col_creator;
    private $_col_creator_foreign_key;
    private $_col_creator_name;
    private $_col_ctime;
    private $_col_modifier;
    private $_col_modifier_foreign_key;
    private $_col_modifier_name;
    private $_col_mtime;
    private $_col_description;
    private $_col_dtime;
    private $_col_mark;
    private $_col_max_version;
    private $_col_title;
    private $_col_title_sort_key;
    private $_col_version;

    private $_fileName;         //tab_grn_cabinet_filebody

    private $_folder_id;        //tab_grn_cabinet_folderentity
    private $_folder_col_name;  //tab_grn_cabinet_folderentity


    public function __construct($dataArray = null)
    {
        if (is_null($dataArray)) {
            $this->setId('');
            $this->setCreator('');
            $this->setCreatorForeignKey('');
            $this->setCreatorName('');
            $this->setCtime('');
            $this->setModifier('');
            $this->setModifierForeignKey('');
            $this->setModifierName('');
            $this->setMtime('');
            $this->setDtime('');
            $this->setMark('');
            $this->setMaxVersion('');
            $this->setTitle('');
            $this->setTitleSortKey('');
            $this->setVersion('');
            $this->setDescription('');

            $this->setFileName('');

            $this->setFolderId('');
            $this->setFolderName('');
        } else {
            $this->setId($dataArray['_id']);
            $this->setCreator($dataArray['col_creator']);
            $this->setCreatorForeignKey($dataArray['col_creator_foreign_key']);
            $this->setCreatorName($dataArray['col_creator_name']);
            $this->setCtime($dataArray['col_ctime']);
            $this->setModifier($dataArray['col_modifier']);
            $this->setModifierForeignKey($dataArray['col_modifier_foreign_key']);
            $this->setModifierName($dataArray['col_modifier_name']);
            $this->setMtime($dataArray['col_mtime']);
            $this->setDtime($dataArray['col_dtime']);
            $this->setMark($dataArray['col_mark']);
            $this->setMaxVersion($dataArray['col_max_version']);
            $this->setTitle($dataArray['col_title']);
            $this->setTitleSortKey($dataArray['col_title_sort_key']);
            $this->setVersion($dataArray['col_version']);
            $this->setDescription($dataArray['col_description']);

            $this->setFileName((array_key_exists('filebody_col_name',
                $dataArray)) ? $dataArray['filebody_col_name'] : '');

            $this->setFolderId((array_key_exists('folder_id', $dataArray))
                ? $dataArray['folder_id'] : '');
            $this->setFolderName((array_key_exists('folder_col_name',
                $dataArray)) ? $dataArray['folder_col_name'] : '');
        }
    }

    public function convertArray()
    {
        $result = [];

        $result['_id'] = $this->getId();
        $result['col_creator'] = $this->getCreator();
        $result['col_creator_foreign_key'] = $this->getCreatorForeignKey();
        $result['col_creator_name'] = $this->getCreatorName();
        $result['col_ctime'] = $this->getCtime();
        $result['col_list_index'] = $this->getListIndex();
        $result['col_modifier'] = $this->getModifier();
        $result['col_modifier_foreign_key'] = $this->getModifierForeignKey();
        $result['col_modifier_name'] = $this->getModifierName();
        $result['col_mtime'] = $this->getMtime();
        $result['col_dtime'] = $this->getDtime();
        $result['col_mark'] = $this->getMark();
        $result['col_max_version'] = $this->getMaxVersion();
        $result['col_title'] = $this->getTitle();
        $result['col_title_sort_key'] = $this->getTitleSortKey();
        $result['col_version'] = $this->getVersion();
        $result['col_description'] = $this->getDescription();

        return $result;
    }

    public function getId()
    {
        return $this->__id;
    }

    public function setId($value)
    {
        $this->__id = $value;
    }

    public function getCreator()
    {
        return $this->_col_creator;
    }

    public function setCreator($value)
    {
        $this->_col_creator = $value;
    }

    public function getCreatorForeignKey()
    {
        return $this->_col_creator_foreign_key;
    }

    public function setCreatorForeignKey($value)
    {
        $this->_col_creator_foreign_key = $value;
    }

    public function getCreatorName()
    {
        return $this->_col_creator_name;
    }

    public function setCreatorName($value)
    {
        $this->_col_creator_name = $value;
    }

    public function getCtime()
    {
        return $this->_col_ctime;
    }

    public function setCtime($value)
    {
        $this->_col_ctime = $value;
    }

    public function getModifier()
    {
        return $this->_col_modifier;
    }

    public function setModifier($value)
    {
        $this->_col_modifier = $value;
    }

    public function getModifierForeignKey()
    {
        return $this->_col_modifier_foreign_key;
    }

    public function setModifierForeignKey($value)
    {
        $this->_col_modifier_foreign_key = $value;
    }

    public function getModifierName()
    {
        return $this->_col_modifier_name;
    }

    public function setModifierName($value)
    {
        $this->_col_modifier_name = $value;
    }

    public function getMtimeObj()
    {
        if (is_null($this->_col_mtime)) {
            return null;
        }

        $timestamp = new CB_TimeStamp;
        $timestamp->unix_ts = $this->_col_mtime;

        return $timestamp;
    }

    public function getMtime()
    {
        return $this->_col_mtime;
    }

    public function setMtime($value)
    {
        $this->_col_mtime = $value;
    }

    public function getDtime()
    {
        return $this->_col_dtime;
    }

    public function setDtime($value)
    {
        $this->_col_dtime = $value;
    }

    public function getMark()
    {
        return $this->_col_mark;
    }

    public function setMark($value)
    {
        $this->_col_mark = $value;
    }

    public function getMaxVersion()
    {
        return $this->_col_max_version;
    }

    public function setMaxVersion($value)
    {
        $this->_col_max_version = $value;
    }

    public function getTitle()
    {
        return $this->_col_title;
    }

    public function setTitle($value)
    {
        $this->_col_title = $value;
    }

    public function getTitleSortKey()
    {
        return $this->_col_title_sort_key;
    }

    public function setTitleSortKey($value)
    {
        $this->_col_title_sort_key = $value;
    }

    public function getVersion()
    {
        return $this->_col_version;
    }

    public function setVersion($value)
    {
        $this->_col_version = $value;
    }

    public function getDescription()
    {
        return $this->_col_description;
    }

    public function setDescription($value)
    {
        $this->_col_description = $value;
    }

    public function getFileName()
    {
        return $this->_fileName;
    }

    public function setFileName($value)
    {
        $this->_fileName = $value;
    }

    public function getFolderId()
    {
        return $this->_folder_id;
    }

    public function setFolderId($value)
    {
        $this->_folder_id = $value;
    }

    public function getFolderName()
    {
        return $this->_folder_col_name;
    }

    public function setFolderName($value)
    {
        $this->_folder_col_name = $value;
    }
}
