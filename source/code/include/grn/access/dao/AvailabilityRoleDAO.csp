<?php

namespace grn\grn\access\dao;

use grn\grn\access\bean\Availability;

class AvailabilityRoleDAO extends AvailabilityBaseDAO
{
    /**
     * AvailabilityRoleDAO constructor.
     */
    function __construct()
    {
        parent::__construct();
        $this->table = 'tab_grn_availability_role';
        $this->targetColumn = 'col_role';
        $this->tableRelation = 'tab_cb_userrolerelation';
        $this->relationColumn = 'col_role';
    }

    /**
     * @param array $raw_data
     *
     * @return Availability
     */
    protected function convertArrayToBean(array $raw_data)
    {
        $availability = parent::convertArrayToBean($raw_data);
        $availability->setTargetType(Availability::STATIC_ROLE);

        return $availability;
    }
}
