<?php

namespace grn\grn\access\dao;

use grn\grn\access\bean\Availability;

class AvailabilityGroupDAO extends AvailabilityBaseDAO
{
    /**
     * AvailabilityGroupDAO constructor.
     */
    function __construct()
    {
        parent::__construct();
        $this->table = 'tab_grn_availability_groupuser';
        $this->targetColumn = 'col_groupuser';
        $this->tableRelation = 'tab_cb_usergrouprelation';
        $this->relationColumn = 'col_group';
    }

    /**
     * @param array $raw_data
     *
     * @return Availability
     */
    protected function convertArrayToBean(array $raw_data)
    {
        $availability = parent::convertArrayToBean($raw_data);
        $availability->setTargetType(Availability::GROUP);

        return $availability;
    }
}
