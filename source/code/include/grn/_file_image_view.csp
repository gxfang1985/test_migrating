<?php
if (isset($download_page) && grn\grn\Validate::isNotNull($download_page)
    && isset($file_name)
    && grn\grn\Validate::isNotNull($file_name)
) {
    global $G_INPUT;
    //-- instantiate Smarty object
    require_once("grn/smarty.csp");
    $t = new GRN_Smarty;

    $t->assign('params', $G_INPUT);
    $t->assign('dpage', $download_page);
    $t->assign('file_name', $file_name);

    global $G_state_set;
    $G_state_set->set('copyright_should_be_written', false);

    $t->skipWarning();

    //-- show page
    $t->display('grn/file_image_view.tpl');
}
