<?php
declare(strict_types=1);

namespace grn\grn\push_notification\schedule;

class FacilityAndDateSetsOfTemporaryEvent
{
    /**
     * @var int
     */
    private $facilityId = null;

    /**
     * @var DateTimeSet[]
     */
    private $dateTimeSets = [];

    /**
     * FacilityAndDateSetsOfTemporaryEvent constructor.
     *
     * @param int|NULL $facility_id
     */
    public function __construct(int $facility_id = null)
    {
        $this->facilityId = $facility_id;
    }

    /**
     * @return int
     */
    public function getFacilityId()
    {
        return $this->facilityId;
    }

    /**
     * @return DateTimeSet[]
     */
    public function getDateTimeSets(): array
    {
        return $this->dateTimeSets;
    }

    /**
     * @param \CB_DateTime $start_date_time
     * @param \CB_DateTime $end_date_time
     */
    public function addDateTimeSet(
        \CB_DateTime $start_date_time,
        \CB_DateTime $end_date_time
    ) {
        $this->dateTimeSets[] = new DateTimeSet($start_date_time,
            $end_date_time);
    }

    /**
     * @param array $dates
     */
    public function addDateTimeSets(array $dates)
    {
        foreach ($dates as $setdate) {
            $this->addDateTimeSet($setdate['setdatetime'],
                $setdate['enddatetime']);
        }
    }
}
