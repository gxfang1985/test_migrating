<?php
declare(strict_types=1);

namespace grn\grn\push_notification\bean;

class Receivers
{
    /**
     * @var Receiver[]
     */
    private $receivers = [];

    /**
     * Receivers constructor.
     */
    function __construct()
    {
    }

    /**
     * @param string   $locale
     * @param Receiver $receiver
     */
    function appendReceiver(string $locale, Receiver $receiver)
    {
        $this->receivers[$locale][$receiver->userId] = $receiver;
    }

    /**
     * @param string $locale
     * @param int    $user_id
     */
    function removeReceiver(string $locale, int $user_id)
    {
        unset($this->receivers[$locale][$user_id]);
    }

    /**
     * @return array ['ja'=>Receiver[], 'en'=>Receiver[], 'zh'=>Receiver[], ...]
     */
    function getList(): array
    {
        return $this->receivers;
    }
}
