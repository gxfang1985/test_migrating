<?php

namespace grn\schedule\bean;

class AttendanceStatus
{

    private $_colCreateTime;
    private $_colEvent;
    private $_colEventId;
    private $_colStatus;
    private $_colUser;
    private $_colUserId;
    private $_colMessage;

    const STATUS_UNCONFIRMED = 'unconfirmed';
    const STATUS_CONFIRMED = 'confirmed';
    const STATUS_ABSENT = 'absent';
    const STATUS_ATTENDANT = 'attendant';
    const STATUS_ALL = '';

    const ATTENDANCE_CHECK_USING = 'attendance_check_using';
    const ATTENDANCE_CHECK_SHOW = 'attendance_check_show';
    const ATTENDANCE_CHECK_STATUS = 'attendance_check_status';

    const ATTENDANCE_CHECK_FIELD = 'col_reserve_int3';

    public function __construct($inDataArray = null)
    {
        if (is_null($inDataArray)) {
            $this->setCreateTime('');
            $this->setEventId('');
            $this->setStatus('');
            $this->setUserId('');
            $this->setMessage('');
        } else {
            $this->setCreateTime(cb_at($inDataArray, 'col_ctime', ''));
            $this->setEventId(cb_at($inDataArray, 'col_event', ''));
            $this->setStatus(cb_at($inDataArray, 'col_status', ''));
            $this->setUserId(cb_at($inDataArray, 'col_user', ''));
            $this->setMessage(cb_at($inDataArray, 'col_message', ''));
        }
    }

    public function toArray()
    {
        $result = [];
        $result['col_ctime'] = $this->getCreateTime();
        $result['col_event'] = $this->getEventId();
        $result['col_status'] = $this->getStatus();
        $result['col_user'] = $this->getUserId();
        $result['col_message'] = $this->getMessage();

        return $result;
    }


    public function getCreateTime()
    {
        return $this->_colCreateTime;
    }

    public function setCreateTime($value)
    {
        $this->_colCreateTime = $value;
    }

    public function getEvent()
    {
        return $this->_colEvent;
    }

    public function setEvent($value)
    {
        $this->_colEvent = $value;
    }

    public function getEventId()
    {
        if (is_object($this->_colEvent)) {
            return $this->_colEvent->id;
        }

        return $this->_colEventId;
    }

    public function setEventId($value)
    {
        $this->_colEventId = $value;
    }

    public function getStatus()
    {
        return $this->_colStatus;
    }

    /**
     * @param $value string| attendant, absent, unconfirmed
     */
    public function setStatus($value)
    {
        $this->_colStatus = $value;
    }

    public function getUser()
    {
        return $this->_colUser;
    }

    public function setUser($value)
    {
        $this->_colUser = $value;
    }

    public function getUserId()
    {
        if (is_object($this->_colUser)) {
            return $this->_colUser->getOID();
        }

        return $this->_colUserId;
    }

    public function setUserId($value)
    {
        $this->_colUserId = $value;
    }

    public function getMessage()
    {
        return $this->_colMessage;
    }

    public function setMessage($value)
    {
        $this->_colMessage = $value;
    }
}
