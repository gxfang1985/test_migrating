<?php

namespace grn\space\data\bean\log;

use grn\space\common\data\LogInterface;

/**
 * Class ModifySharedTodoLog
 */
class ModifySharedTodoLog implements LogInterface
{

    const ACTION_MODIFY = 'modify';


    const OBJECT_SHARED_TODO = 'shared_todo';


    const LOG_SPACE_ID = 'spid';


    const LOG_SPACE_NAME = 'space_name';


    const LOG_SHARED_TODO_ID = 'stid';


    const LOG_SHARED_TODO_NAME = 'shared_todo_name';


    const LOG_ASSIGN = 'assign';

    /**
     * Using a constant log message.
     */
    const LOG_ASSIGNEES_STATUS_INITIALIZE = 'assignees_status_initialize';

    /**
     * Using a constant log value.
     */
    const LOG_ASSIGNEES_STATUS_INITIALIZE_ON = 1;

    /**
     * Using a constant log value.
     */
    const LOG_ASSIGNEES_STATUS_INITIALIZE_OFF = 0;

    const NOT_SET = '';

    /**
     *
     * @var string
     */
    private $_action;


    /**
     *
     * @var string
     */
    private $_object;


    /**
     *
     * @var string
     */
    private $_spaceId;


    /**
     *
     * @var string
     */
    private $_spaceName;


    /**
     *
     * @var string
     */
    private $_sharedTodoId;


    /**
     *
     * @var string
     */
    private $_sharedTodoName;


    /**
     *
     * @var array<string>
     */
    private $_assignList;

    /**
     *
     * @var boolean
     */
    private $_statusInitialize;

    /**
     * ModifySharedTodoLog constructor.
     */
    public function __construct()
    {
        $this->setAction(self::ACTION_MODIFY);
        $this->setObject(self::OBJECT_SHARED_TODO);
        $this->setSpaceId(self::NOT_SET);
        $this->setSpaceName(self::NOT_SET);
        $this->setSharedTodoId(self::NOT_SET);
        $this->setSharedTodoName(self::NOT_SET);
        $this->setAssignList([]);
        $this->setAssigneesStatusInitialize(false);
    }


    /**
     * @param string $action
     */
    public function setAction($action)
    {
        $this->_action = $action;
    }


    /**
     * @return string
     */
    public function getAction()
    {
        return $this->_action;
    }


    /**
     * @param string $object
     */
    public function setObject($object)
    {
        $this->_object = $object;
    }


    /**
     * @return string
     */
    public function getObject()
    {
        return $this->_object;
    }


    /**
     * @param string $spaceId
     */
    public function setSpaceId($spaceId)
    {
        $this->_spaceId = $spaceId;
    }


    /**
     * @return string
     */
    public function getSpaceId()
    {
        return $this->_spaceId;
    }


    /**
     * @param string $spaceName
     */
    public function setSpaceName($spaceName)
    {
        $this->_spaceName = $spaceName;
    }


    /**
     * @return string
     */
    public function getSpaceName()
    {
        return $this->_spaceName;
    }


    /**
     * @param string $sharedTodoId
     */
    public function setSharedTodoId($sharedTodoId)
    {
        $this->_sharedTodoId = $sharedTodoId;
    }


    /**
     * @return string
     */
    public function getSharedTodoId()
    {
        return $this->_sharedTodoId;
    }


    /**
     * @param string $sharedTodoName
     */
    public function setSharedTodoName($sharedTodoName)
    {
        $this->_sharedTodoName = $sharedTodoName;
    }


    /**
     * @return string
     */
    public function getSharedTodoName()
    {
        return $this->_sharedTodoName;
    }


    /**
     * @param array<string> $assignList
     */
    public function setAssignList($assignList)
    {
        $this->_assignList = $assignList;
    }


    /**
     * @return array<string>
     */
    public function getAssignList()
    {
        return $this->_assignList;
    }

    /**
     * @param boolean $is_initialize
     */
    public function setAssigneesStatusInitialize($is_initialize)
    {
        $this->_statusInitialize = $is_initialize;
    }

    /**
     * @return boolean
     */
    public function getAssigneesStatusInitialize()
    {
        return $this->_statusInitialize;
    }

    /**
     * @return array
     */
    public function getParameters()
    {
        $retval = [];
        $retval[self::LOG_SPACE_ID] = $this->getSpaceId();
        $retval[self::LOG_SPACE_NAME] = $this->getSpaceName();
        $retval[self::LOG_SHARED_TODO_ID] = $this->getSharedTodoId();
        $retval[self::LOG_SHARED_TODO_NAME] = $this->getSharedTodoName();

        $tmpValue = $this->getAssignList();
        for ($i = 0; $i < count($tmpValue); $i++) {
            $logIndex = $i + 1;
            $retval[self::LOG_ASSIGN . "_{$logIndex}"] = $tmpValue[$i];
        }

        $retval[self::LOG_ASSIGNEES_STATUS_INITIALIZE]
            = self::LOG_ASSIGNEES_STATUS_INITIALIZE_OFF;
        if ($this->getAssigneesStatusInitialize()) {
            $retval[self::LOG_ASSIGNEES_STATUS_INITIALIZE]
                = self::LOG_ASSIGNEES_STATUS_INITIALIZE_ON;
        }

        return $retval;
    }

}
