<?php

namespace grn\space\data\bean;

use grn\space\common\utility\ValidateUtility;

use grn\space\common\data\bean\BeanAbstract;

/**
 * Class MemberOpenStatus
 */
class MemberOpenStatus extends BeanAbstract
{
    const USER_ID = "col_user";

    private $_userId;

    /**
     * @param array|null $dataArray
     * @param bool       $isInputCheck
     */
    public function __construct(
        array $dataArray = null,
        $isInputCheck = self::CHECK_INPUT
    ) {
        parent::__construct($dataArray, $isInputCheck);

        if (is_null($dataArray)) {
            $this->setUserId(null);
        } else {
            $this->setUserId(array_key_exists(self::USER_ID, $dataArray)
                ? $dataArray[self::USER_ID] : null);
        }
    }

    /**
     * @return mixed
     */
    public function getUserId()
    {
        return $this->_userId;
    }

    /**
     * @param $userId
     */
    public function setUserId($userId)
    {
        $this->isInputNumber($userId);
        $this->_userId = $userId;
    }

    /**
     * 検査の実行(オーバーライド)
     * Performing Validation is override
     *
     * @param     int $validType VALID_TYPE_CREATE, VALID_TYPE_MODIFY, VALID_TYPE_SELECT
     *
     * @return    boolean       TRUE : valid   FALSE: Invalid
     */
    protected function checkValidate($validType)
    {
        if ( ! parent::checkValidate($validType)) {
            return false;
        }

        if (strlen($this->getId()) == 0) {
            return false;
        }
        if (strlen($this->getUserId()) == 0) {
            return false;
        }

        return true;
    }

}
