<?php

namespace grn\space\common\exception;

use grn\space\common\exception\GrnLogicException;

/**
 * Exception thrown when relate to kintione.
 **/
class GrnKintoneException extends GrnLogicException
{
    /**
     * @param    string $errorcode error code.
     * @param    array  $result    relate to kintione app result.
     *
     * @return   GrnKintoneException
     */
    public static function valueOf($errorcode, $result)
    {
        if (isset($result['execute'])) {
            return new GrnKintoneException(ErrorCode::GRN_KINTONE_CONNECT_FAILED);
        } else {
            $error = new GrnKintoneException($errorcode);
            $param['errorcode'] = $result['code'];
            $param['errorid'] = $result['id'];
            $error->setCause($param);

            return $error;
        }
    }
}
