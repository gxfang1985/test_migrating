<?php

namespace grn\space\common\logic;

use grn\space\common\db\IconFacade;

use grn\space\common\data\condition\IconSearchCondition;

/**
 * Business Logic Layer
 * This layer achieves the demand from the application service layer by using the DB layer.
 **/
class IconLogic
{
    private static $_instance = null;

    /**
     * コンストラクタ
     */
    public function __construct()
    {
    }

    /**
     * Get Instance(Singleton pattern)
     *
     * @return IconLogic $_instance
     */
    public static function getInstance()
    {
        if (is_null(self::$_instance)) {
            $c = __CLASS__;
            self::$_instance = new $c;
        }

        return self::$_instance;
    }

    /**
     * Search for Icons
     *
     * @param IconSearchCondition $iconSearchCondition
     *
     * @return \grn\space\common\data\collection\IconCollection
     * @throws \grn\space\common\exception\GrnDatabaseException
     */
    public function searchForIcons(IconSearchCondition $iconSearchCondition)
    {
        $iconFacade = new IconFacade();

        return $iconFacade->searchForIcons($iconSearchCondition);
    }

    /**
     * select Icon
     *
     * @param string $iconId
     *
     * @return \grn\space\common\data\bean\Icon
     * @throws \grn\space\common\exception\GrnDataNotFoundException
     */
    public function getIcon($iconId)
    {
        $iconFacade = new IconFacade();

        return $iconFacade->selectIcon($iconId);
    }
}
