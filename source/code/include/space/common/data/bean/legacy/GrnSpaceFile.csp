<?php

require_once('grn/file.csp');
require_once('space/GrnSpaceApplication.csp');
require_once('space/common/data/bean/legacy/GrnSpaceFileBody.csp');
require_once('space/common/data/bean/legacy/GrnSpaceFileLog.csp');
require_once('space/common/data/bean/legacy/GrnSpaceFileLock.csp');

/**
 * SPACEファイル情報クラス.
 * 精密なバージョン管理のためロックを取るが、永続ロックではない.
 * 監査オブジェクトである.
 *
 * 永続ロックの使用はオプションなので、別テーブルに切っている.
 * 実装を埋め込まないのは、ログインユーザー以外でも更新操作を可能
 * にしておくため(コマンドラインからのメンテナンス等).
 *
 * This code uses the legacy of the past.
 * このコードは過去の遺産（永続化オブジェクト）を使っています。
 */
class GRN_Space_File extends \GRN_File
{
    var $_app_id = \GrnSpaceApplication::GRN_SPACE_APPLICATION_ID;

    var $_body_table_name = 'GRN_Space_FileBody';
    var $_log_table_name = 'GRN_Space_FileLog';
    var $_lock_table_name = 'GRN_Space_FileLock';


    /**
     * @param  $row
     *
     * @return \GRN_Space_File
     */
    function __construct($row)
    {
        parent::__construct($row, \GrnSpaceApplication::GRN_SPACE_MODULE_ID);
    }
}

