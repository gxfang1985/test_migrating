<?php

require_once('grn/file.csp');
require_once('space/GrnSpaceApplication.csp');

/**
 * SPACEファイルの永続ロック管理クラス.
 * GRN_File のヘルパー.  HTTPのUI用であるため、分離.
 *
 * GRN_FileManagerConfig にてロックを使用することになっていると、
 * このオブジェクトをロックしてから update しないと失敗する.
 *
 * This code uses the legacy of the past.
 * このコードは過去の遺産（永続化オブジェクト）を使っています。
 */
class GRN_Space_FileLock extends \GRN_FileLock
{
    var $_app_id = \GrnSpaceApplication::GRN_SPACE_APPLICATION_ID;

    var $col_file
        = [
            'type'   => 'relation',
            'to'     => 'GRN_Space_File',
            'unique' => true
        ];

    /**
     * GRN_Space_FileLock constructor.
     *
     * @param $row
     */
    public function __construct($row)
    {
        parent::__construct($row);
    }
}

