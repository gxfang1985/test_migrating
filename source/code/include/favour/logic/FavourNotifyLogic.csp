<?php

namespace grn\favour\logic;

use grn\favour\data\bean\FavourNotify;
use grn\favour\db\dao\FavourNotifyDAO;

class FavourNotifyLogic
{
    /**
     * Add one favour notification
     *
     * @param \grn\favour\data\bean\FavourNotify $favour_notify
     */
    public function addFavourNotify(FavourNotify $favour_notify)
    {
        $favour_notify_dao = new FavourNotifyDAO();
        $favour_notify_dao->insertFavourNotify($favour_notify);
    }

    /**
     * Set user's favour notification status as read
     *
     * @param string $user_id
     * @param array  $app_ids
     */
    public function setFavourNotifyReadByUserId($user_id, array $app_ids = [])
    {
        $favour_notify_dao = new FavourNotifyDAO();
        $favour_notify_dao->updateFavourNotifyReadByUserId($user_id, $app_ids);
    }

    /**
     * Delete one favour notification
     *
     * @param \grn\favour\data\bean\FavourNotify $favour_notify
     */
    public function deleteFavourNotify(FavourNotify $favour_notify)
    {
        $favour_notify_dao = new FavourNotifyDAO();
        $favour_notify_dao->deleteFavourNotify($favour_notify);
    }

    /**
     * Get favour notifivation list by user id
     *
     * @param int   $user_id
     * @param array $app_ids
     * @param int   $limit
     *
     * @return \grn\favour\data\collection\FavourNotifyCollection
     */
    public function getFavourNotifyListByUserId(
        $user_id,
        array $app_ids = [],
        $limit = -1
    ) {
        $favour_notify_dao = new FavourNotifyDAO();

        return $favour_notify_dao->selectFavourNotifyCollectionByUserId($user_id,
            $app_ids, $limit);
    }

    /**
     * Select favour notify
     *
     * @param string $favourer_id
     * @param string $user_id
     * @param string $module_id
     * @param string $type
     * @param string $value
     * @param string $sub_module_id
     *
     * @return \grn\favour\data\bean\FavourNotify
     */
    public function selectFavourNotify(
        $favourer_id,
        $user_id,
        $module_id,
        $type,
        $value,
        $sub_module_id = ''
    ) {
        $favour_notify_dao = new FavourNotifyDAO();

        return $favour_notify_dao->selectFavourNotify($favourer_id, $user_id,
            $module_id, $type, $value, $sub_module_id);
    }

    /**
     * Select favour notify collection for specific comment or body
     *
     * @param string $user_id
     * @param string $module_id
     * @param string $type
     * @param string $value
     * @param string $sub_module_id
     *
     * @return \grn\favour\data\collection\FavourNotifyCollection
     */
    public function selectSpecificFavourNotifyCollection(
        $user_id,
        $module_id,
        $type,
        $value,
        $sub_module_id = ''
    ) {
        $favour_notify_dao = new FavourNotifyDAO();

        return $favour_notify_dao->selectSpecificFavourNotifyCollection($user_id,
            $module_id, $type, $value, $sub_module_id);
    }
}
