<?php

/**
 * Interface for Address.
 *
 * @package grn.address
 * @author  YOSHIDA, Hideyasu 2005/01
 * @version 1.0
 */

require_once('address/error_code.csp');
require_once('address/resources.csp');

/**
 * The base factory class to create instances of GRN_Address_BookBase class.
 *
 * @package grn.address
 * @abstract
 */
class GRN_Address_BookFactoryBase
{
    /**
     * Create an instance of GRN_Address_Cyde_Book class
     *
     * @abstract
     *
     * @param string           $data_type 'Private' or 'Shared'
     * @param array[]          $children  unused
     * @param GRN_Address_Book $row
     *
     * @return GRN_Address_BookBase
     */
    function newBook($data_type, & $children, $row)
    {
    }
}

/**
 * アドレスブックAPIクラス
 *
 * @package grn.address
 * @abstract
 */
class GRN_Address_BookBase
{
    /**
     * プロパティを設定する
     *
     * @abstract
     */
    function setProperty($key, $value)
    {
        return false;
    }

    /**
     * プロパティ一覧を設定する
     *
     * @abstract
     */
    function setProperties($properties)
    {
    }

    /**
     * プロパティを取得する
     *
     * @abstract
     */
    function getProperty($key)
    {
        {
            $___ret = null;

            return $___ret;
        }
    }

    /**
     * プロパティ一覧を取得する
     *
     * @abstract
     */
    function getProperties()
    {
        return [];
    }

    /**
     * ブックタイプを取得する
     *
     * @abstract
     */
    function getBookType()
    {
        return null;
    }

    /**
     * データタイプを取得する
     */
    function getDataType()
    {
        return null;
    }

    /**
     * オブジェクトIDを取得する
     *
     * @abstract
     */
    function getOID()
    {
        return 0;
    }

    /**
     * テーブル行を取得する
     */
    function getRow()
    {
        {
            $___ret = null;

            return $___ret;
        }
    }

    /**
     * 破棄する
     *
     * @abstract
     */
    function delete()
    {
        return false;
    }

    /**
     * アドレスデータを取得する
     *
     * @abstract
     */
    function getData($data_id)
    {
        {
            $___ret = null;

            return $___ret;
        }
    }

    /**
     * アドレスデータ一覧を取得する
     *
     * @abstract
     */
    function listDatas(
        $offset = 0,
        $limit = -1,
        $order_by = null,
        $condition = null
    ) {
        return [];
    }

    /**
     * 全文検索した結果のアドレスデータ一覧を取得する
     *
     * @abstract
     */
    function listFullTextSearchDatas(
        $offset = 0,
        $limit = -1,
        $orders = null,
        $texts = null,
        $is_sensitive = false
    ) {
        return [];
    }

    /**
     * アドレスデータを追加する
     *
     * @abstract
     */
    function addData($properties = null)
    {
        $ret = null;

        return $ret;
    }

    /**
     * アドレスデータの総数を取得する
     *
     * @abstract
     */
    function countDatas($condition = null)
    {
        return 0;
    }

    /**
     * アドレス拡張項目を取得する
     *
     * @abstract
     */
    function getItem($item_id)
    {
        {
            $___ret = null;

            return $___ret;
        }
    }

    /**
     * 識別子からアドレス拡張項目を取得する
     *
     * @abstract
     */
    function getItemById($id)
    {
        {
            $___ret = null;

            return $___ret;
        }
    }

    /**
     * アドレス拡張項目一覧を取得する
     *
     * @abstract
     */
    function listItems($id = null)
    {
        return [];
    }

    /**
     * アドレス拡張項目を追加する
     *
     * @abstract
     */
    function addItem($properties)
    {
        {
            $___ret = null;

            return $___ret;
        }
    }

    /**
     * アドレス拡張項目のプロパティ一覧を設定する
     *
     * @abstract
     */
    function setItemProperties($item_id, $properties)
    {
        return false;
    }

    /**
     * アドレス拡張項目を削除する
     *
     * @abstract
     */
    function removeItem($item_id)
    {
        return false;
    }

    /**
     * アドレスデータをコピーする
     *
     * @abstract
     */
    function copyData($properties)
    {
        return false;
    }
}

/**
 * アドレスデータAPIクラス
 *
 * @package grn.address
 * @abstract
 */
class GRN_Address_DataBase
{
    /**
     * カラム一覧を取得する
     */
    function listColumns($is_real = false)
    {
        $columns = [
            'subject',                    // 標題
            'personal_name',              // 個人名
            'given_name',                 // 個人名
            'family_name',                // 個人姓
            'personal_sort_key',          // 個人名（よみ）
            'given_sort_key',             // 個人名（よみ）
            'family_sort_key',            // 個人姓（よみ）
            'company_name',               // 会社名
            'company_sort_key',           // 会社名（よみ）
            'section_name',               // 部課
            'zip_code',                   // 郵便番号
            'physical_address',           // 住所
            'map',                        // 地図（ビジネス情報）
            'route',                      // 路線 経路（ビジネス情報）
            'route_time',                 // 路線 所要時間（ビジネス情報）
            'route_fare',                 // 路線 片道運賃（ビジネス情報）
            'company_telephone_number',   // 会社電話番号
            'facsimile_number',           // 会社Fax番号
            'url',                        // URL
            'post_name',                  // 役職
            'personal_telephone_number',  // 個人電話番号
            'email_address',              // E-Mailアドレス
            'image',                      // 画像
            'description'
        ];              // メモ

        if ($is_real) {
            unset($columns[1]);   // personal_name
            unset($columns[4]);   // personal_sort_key
            unset($columns[14]);  // route_time
            unset($columns[15]);  // route_fare
        } else {
            $columns[] = 'creator';
            $columns[] = 'creator_name';
            $columns[] = 'ctime';
            $columns[] = 'modifier';
            $columns[] = 'modifier_name';
            $columns[] = 'mtime';
        }

        return $columns;
    }

    /**
     * プロパティを設定する
     *
     * @abstract
     */
    function setProperty($key, $value)
    {
        return false;
    }

    /**
     * プロパティ一覧を設定する
     *
     * @abstract
     */
    function setProperties($properties)
    {
    }

    /**
     * プロパティ一覧を取得する
     *
     * @abstract
     */
    function getProperty($key, $file_status = null)
    {
        {
            $___ret = null;

            return $___ret;
        }
    }

    /**
     * プロパティ一覧を取得する
     *
     * @abstract
     */
    function getProperties($file_status = null)
    {
        return [];
    }

    /**
     * オブジェクトIDを取得する
     *
     * @abstract
     */
    function getOID()
    {
        return 0;
    }

    /**
     * 破棄する
     *
     * @abstract
     */
    function delete()
    {
        return false;
    }

}


