<?php
declare(strict_types=1);

namespace grn\api\v1\schedule;

use grn\api\http\HttpStatus;
use grn\api\ResponseEntity;
use grn\api\RestApi;
use grn\api\http\response\Record;
use grn\schedule\api\service\EventsService;

class GetEventApi extends RestApi
{
    /**
     * @param array $params
     *
     * @return ResponseEntity
     */
    public function execute(array $params): ResponseEntity
    {
        $event_id = $params['id'];
        $events_service = new EventsService();
        $body = $events_service->getEvent($event_id);

        $http_status = new HttpStatus(HttpStatus::OK);
        $response_entity = new ResponseEntity(new Record($body), $http_status);

        return $response_entity;
    }
}
