/* Garoon DDL */

/* fixed for GRB-16501, GTM-1599, GRM-985 and GTM-548 start */
DELETE FROM `tab_cb_profiledata___p0`  WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p1`  WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p2`  WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p3`  WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p4`  WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p5`  WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p6`  WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p7`  WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p8`  WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p9`  WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p10` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p11` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p12` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p13` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p14` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p15` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p16` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p17` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p18` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p19` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p20` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p21` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p22` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p23` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p24` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p25` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p26` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p27` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p28` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p29` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p30` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p31` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p32` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p33` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p34` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p35` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p36` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p37` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p38` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p39` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p40` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p41` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p42` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p43` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p44` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p45` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p46` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p47` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p48` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
DELETE FROM `tab_cb_profiledata___p49` WHERE `col_name` LIKE 'grn.common.startcomheader.%' OR `col_name` = 'apps_user_allow' OR `col_name` IN ('grn.common.appmenu.zh','grn.common.appmenu.en','grn.common.appmenu.ja');
/* end of fixed for GRB-16501, GTM-1599, GRM-985 and GTM-548 */

/* GRB-17213 Start */
DELETE FROM tab_cb_profiledata___system WHERE col_module = 'grn.common.notification.system' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p0 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p1 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p2 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p3 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p4 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p5 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p6 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p7 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p8 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p9 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p10 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p11 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p12 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p13 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p14 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p15 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p16 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p17 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p18 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p19 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p20 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p21 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p22 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p23 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p24 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p25 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p26 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p27 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p28 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p29 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p30 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p31 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p32 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p33 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p34 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p35 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p36 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p37 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p38 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p39 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p40 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p41 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p42 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p43 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p44 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p45 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p46 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p47 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p48 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
DELETE FROM tab_cb_profiledata___p49 WHERE col_module = 'grn.common.notification.personal' AND col_name = 'notify.last_update_timestamp';
/* GRB-17213 End */

/* GTM-1600 Start */
INSERT INTO `tab_cb_profiledata___system` (`col_key`, `col_module`, `col_name`, `col_value`) VALUES (0, 'grn.mail.system', 'deny_all_permission', 'b:1;');
/* GTM-1600 End */

/* GRB-13275 Start */
ALTER TABLE `tab_grn_report_reportschedulerelations` MODIFY `col_schedule` bigint(20) NOT NULL;
/* GRB-13275 End */

/* GTM-1636 Start */
INSERT INTO `tab_cb_profiledata___system` (`col_key`, `col_module`, `col_name`, `col_value`) VALUES (0, 'grn.fts', 'schema_version', 'i:1;');
/* GTM-1636 End */

/* GTM-1516 Start */
DELETE FROM `tab_cb_profiledata___system` WHERE `col_name` = 'dslink' AND `col_module` = 'grn.common.application';
DELETE FROM `tab_grn_applicationname` WHERE `col_application` = 'dslink';

DELETE FROM `tab_grn_systemadmin_application_group_acl` WHERE `col_application` = 'dslink';
DELETE FROM `tab_grn_systemadmin_application_role_acl` WHERE `col_application` = 'dslink';
DELETE FROM `tab_grn_systemadmin_application_user_acl` WHERE `col_application` = 'dslink';

DELETE `tab_grn_defaultapplicationmenu_local` FROM `tab_grn_defaultapplicationmenu_local` INNER JOIN `tab_grn_defaultapplicationmenu` ON `tab_grn_defaultapplicationmenu_local`.`parent_id` = `tab_grn_defaultapplicationmenu`.`_id` WHERE `col_app_id` = 'dslink';
DELETE FROM `tab_grn_defaultapplicationmenu` WHERE `col_app_id` = 'dslink';
DELETE FROM `tab_grn_authentication_login_authenticate` WHERE `col_driver_type` = 'grn.common.authentication.authenticate.exschedule';
/* GTM-1516 End */

/* GTM-1515 Start */
DELETE `tab_grn_portal_portletlayout` FROM `tab_grn_portal_portletlayout` INNER JOIN `tab_grn_portal_portlet` ON `tab_grn_portal_portletlayout`.`col_portlet` = `tab_grn_portal_portlet`.`_id` WHERE `tab_grn_portal_portlet`.`col_type` = 'grn.cbsearch.search';
DELETE FROM `tab_grn_portal_portlet` WHERE `col_type` = 'grn.cbsearch.search';

DELETE FROM `tab_cb_profiledata___system` WHERE `col_module` = 'grn.cbsearch.system';
DELETE FROM `tab_cb_profiledata___system` WHERE `col_module` = 'grn.common.application' AND `col_name` = 'cbsearch';

DELETE FROM `tab_grn_applicationname` WHERE `col_application` = 'cbsearch';

DELETE FROM `tab_grn_systemadmin_application_group_acl` WHERE `col_application` = 'cbsearch';
DELETE FROM `tab_grn_systemadmin_application_role_acl` WHERE `col_application` = 'cbsearch';
DELETE FROM `tab_grn_systemadmin_application_user_acl` WHERE `col_application` = 'cbsearch';

DELETE `tab_grn_defaultapplicationmenu_local` FROM `tab_grn_defaultapplicationmenu_local` INNER JOIN `tab_grn_defaultapplicationmenu` ON `tab_grn_defaultapplicationmenu_local`.`parent_id`=`tab_grn_defaultapplicationmenu`.`_id` WHERE `col_app_id` = 'cbsearch';
DELETE FROM `tab_grn_defaultapplicationmenu` WHERE `col_app_id` = 'cbsearch';
DELETE FROM `tab_grn_defaultstartmenu` WHERE `col_app_id` = 'cbsearch';

DELETE FROM `tab_grn_authentication_login_authenticate` WHERE `col_driver_type` = 'grn.common.authentication.authenticate.cbsearch';
/* GTM-1515 End */

/* GTM-1542 Start */
TRUNCATE TABLE `tab_grn_ticket_user`;
DROP INDEX `idx_ticket` ON `tab_grn_ticket_user`;
ALTER TABLE `tab_grn_ticket_user` ADD PRIMARY KEY (`col_ticket`);
ALTER TABLE `tab_grn_space_todo_user` ADD COLUMN `_id` bigint(20) PRIMARY KEY AUTO_INCREMENT FIRST;
/* GTM-1542 End */

/* GTM-1685 Start */
ALTER TABLE tab_grn_facility_facility ADD COLUMN col_settings_mtime INT DEFAULT NULL AFTER col_settings;
ALTER TABLE tab_grn_facility_facilitygroup ADD COLUMN col_settings_mtime INT DEFAULT NULL AFTER col_settings;
UPDATE tab_grn_facility_facility SET col_settings_mtime = UNIX_TIMESTAMP();
UPDATE tab_grn_facility_facilitygroup SET col_settings_mtime = UNIX_TIMESTAMP();
/* GTM-1685 End */

/* ########################################################################## */
/*
 * Schema version-up.
 * !!! Put this query at the bottom of diff.sql !!!
 */
/*!40000 ALTER TABLE `tab_cb_schema_version` DISABLE KEYS */;
UPDATE `tab_cb_schema_version` SET `version`='5.6.600';
/*!40000 ALTER TABLE `tab_cb_schema_version` ENABLE KEYS */;
