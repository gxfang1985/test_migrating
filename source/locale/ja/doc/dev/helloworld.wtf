[[概要|section:abstract]]
本章では、アゼリア版PHP4に慣れるため、最も簡単なアプリケーションの作成方法について説明します。
最も簡単なアプリケーションとは、すなわち、
''Hello World!''という文字列を画面に表示するだけのアプリケーションです。

本章ではアプリケーションの作成方法を、[[コードの作成|doc:dev/helloworld#development]]、[[コードの配置|doc:dev/helloworld#deployment]]、[[コードの実行|doc:dev/helloworld#execution]]の3つの部分に分けて、説明します。

[[コードの作成|section:development]]
PHPスクリプトを作成します。スクリプトを編集するエディタは何でも構いませんが、アゼリアは[[規約|doc:dev/rules]]で、文字コードを「BOMなしUTF-8」、改行コードを「LF」と指定していますので、それらを使用できるエディタである必要があります。(Emacsや秀丸などはこの要件をクリアします。)

エディタを使用して、以下のようなコードを作成します。
[[src]]
1|<HTML>
2|<HEAD><TITLE>Hello World!</TITLE></HEAD>
3|<BODY>
4|<?php
5|
6|echo "Hello World!<BR>";
7|
8|?>
[[/src]]

''1行目〜3行目''は、HTMLの記述です。PHPスクリプトは通常このようにHTML文書に埋め込まれる形で記述されます。

''4行目''はPHPスクリプトの開始を表すタグであり、''8行目''がスクリプトの終了を表すタグです。
PHPスクリプトは、このように開始タグと終了タグの間で記述されます。
開始タグ〜スクリプト〜終了タグのまとまりは、1ファイル中に何度登場しても構いませんが、
入れ子にすることは出来ません。

''6行目''は''Hello World!<BR>''という文字列を出力するスクリプトであり、実行の結果、
コードの1行目〜3行目に''Hello World!<BR>''という文字列を連結し、
さらにアゼリアのcopyright文字列を連結したデータが、ブラウザに送信されます。
（HTML末尾の''</BODY></HTML>''は、アゼリアがcopyrightを付加する際、
自動的に付加されるので記述する必要はありません。）

[[コードの配置|section:deployment]]
作成したスクリプトを、doc_rootディレクトリ以下に''hello.csp''という名前で保管します。''doc_root''ディレクトリはphp.exe、php.cgiと同じ''cbfw''ディレクトリ（もしくは、インストール時に設定された名前のディレクトリ）以下に存在します。

[[src]]
例 Windows,Apache2の場合)
C:\Program Files\Apache Group\Apache2\cgi-bin\cbfw\doc_root\hello.csp

例 Unix,Apache2の場合)
/usr/local/apache2/cgi-bin/cbfw/doc_root/hello.csp
[[/src]]

Webアクセスの場合、基本的には、この''doc_root''ディレクトリ以下に置かれたコードのみ直接実行することができます。

[[コードの実行|section:execution]]
[[Webアクセス|head:]]
通常のCGI版で使用する場合、コードにアクセスするURLは以下のようになります。

[[src]]
''php.exe(php.cgi)のURL + コードのdoc_rootディレクトリからの相対パス - ファイル拡張子 = コードのURL''

例 Windows,Apache2の場合)
http://localhost/cgi-bin/cbfw/php.exe/hello

例 Unix,Apache2の場合)
http://localhost/cgi-bin/cbfw/php.cgi/hello
[[/src]]

アクセスした場合のHTMLソースは以下のようになります。

[[src]]
<HTML>
<HEAD><TITLE>Hello World!</TITLE></HEAD>
<BODY>
Hello World!<BR><!-- " --><p><font size="-1">Copyright &copy; 2004 Cybozu Inc.  All rights reserved.</font></p></body></html>
[[/src]]

[[コマンドラインアクセス|head:]]
php.exe(php.cgi)は実行形式ファイルになっており、
以下のようにしてコマンドラインからコードにアクセスすることも可能です。

[[src]]
例 Windows,Apache2の場合)
C:\>cd "C:\Program Files\Apache Group\Apache2\cgi-bin\cbfw"
C:\Program Files\Apache Group\Apache2\cgi-bin\cbfw>php.exe -f code\doc_root\hello.csp

例 Unix,Apache2の場合)
> cd /usr/local/apache2/cgi-bin/cbfw
> ./php.cgi -f code/doc_root/hello.csp
[[/src]]

出力は以下のようになり、copyrightは付加されません。

[[src]]
Content-type: text/html; charset=UTF-8

<HTML>
<HEAD><TITLE>Hello World!</TITLE></HEAD>
<BODY>
Hello World!<BR>
[[/src]]

