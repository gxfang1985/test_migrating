[[概要|section:abstract]]

PHPでは強力な文字列操作ができ、たくさんの
[[html]]
<a href='http://jp2.php.net/manual/ja/ref.mbstring.php'>マルチバイト文字列関数</a>
[[/html]]
が用意されています。
Azaleaでは、これらを組み合わせて、よく使うと思われる共通の処理をユーテリティ関数として提供しています。
また、Smartyの方に関してもユーテリティを用意してありますので参照してください。

[[PHP 関数リファレンス|section:api_refernce]]
[[html]]
<table class="cb_doc_table">
<tr>
<th>
関数名
</th>
<th>
目的
</th>
<th>
備考
</th>
</tr>


<tr>
<td>
[[az:fw.core:include/fw/string_util.csp:cb_trim]]
</td>
<td>
前後にある空白を削除する。
</td>
<td>
この関数は前後の全角スペースも削除する。<br>
'全角スペースあり' = cb_trim('　全角スペースあり　')
</td>
</tr>

<tr>
<td>
[[az:fw.core:include/fw/string_util.csp:cb_trim_check]]
</td>
<td>
上記に加えて値チェックをする。
</td>
<td>
この関数は異常なデータが設定されている場合、例外を発生させます。<br>
必須項目のデータが入力されていない場合などに使用する。
</td>
</tr>


<tr>
<td>
[[az:fw.core:include/fw/string_util.csp:cb_normalize_sort_key]]
</td>
<td>
ソートのために文字列の正規化する。
</td>
<td>
現状は全角英数字を半角英数字にする。<br>
全、半角カナを全角ひらがなにする。<br>
</td>
</tr>


<tr>
<td>
[[az:fw.core:include/fw/string_util.csp:cb_test_charset_validity]]
</td>
<td>
指定した文字エンコーディングでエンコードできるかチェックする。
</td>
<td>
チェックできる文字エンコーディングは[[PHPマニュアル|http://www.php.net/manual/ja/ref.mbstring.php]]のサポートされる文字エンコーディングを参照してください。<br>
</td>
</tr>


<tr>
<td>
[[az:fw.core:include/fw/string_util.csp:cb_parse_search_text]]
</td>
<td>
全角スペースと半角スペースの並びで区切られた文字列をトークンに分解する。
</td>
<td>
特になし
</td>
</tr>

</table>
[[/html]]

[[Smarty 修飾子リファレンス|section:api_refernce_smarty]]
[[html]]
<table class="cb_doc_table">
<tr>
<th>
関数名
</th>
<th>
目的
</th>
<th>
備考
</th>
</tr>

<tr>
<td>
[[ui:cb_mb_truncate:modifier]]
</td>
<td>
マルチバイト文字列の切り捨てを行う
</td>
<td>
[[smarty:truncate:modifier]] の同様のインターフェイスでマルチバイトに対応したものです。<br>
</td>
</table>
[[/html]]

[[フレームワーク・ソースコード|section:source]]
[[string_util.csp|include/fw/string_util.csp]]
 [[modifier.cb_mb_truncate.php|smarty/libs/plugins/modifier.cb_mb_truncate.php]]
